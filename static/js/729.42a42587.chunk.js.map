{"version":3,"file":"static/js/729.42a42587.chunk.js","mappings":"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","sources":["components/ShopsList/ShopItem/shopItem.module.css","components/ShopsList/ShopItem/ShopItem.jsx","shared/services/shop.js","components/ShopsList/shopsList.module.css","components/ShopsList/ShopsList.jsx","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/Products/ProductCard/productCard.module.css","components/Products/ProductCard/ProductCard.jsx","components/Products/Products.jsx","pages/ShopsPage/shopPage.module.css","pages/ShopsPage/ShopsPage.jsx","redux/shops/shops-selector.js","webpack://delivery_app/./src/shared/components/Container/container.module.css?d150","shared/components/Container/Container.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {};","import { useCallback } from 'react';\nimport { useDispatch, useSelector, shallowEqual } from 'react-redux';\n\nimport { setActiveId } from 'redux/shops/shops-slice';\nimport s from './shopItem.module.css';\n\nconst ShopItem = ({ name, avatar, id }) => {\n  const dispatch = useDispatch();\n\n  const activeId = useSelector(state => state.shops.activeId, shallowEqual);\n\n  const getActive = id => {\n    if (activeId === id) {\n      return s.active;\n    }\n    return s.shopItem;\n  };\n\n  const setId = useCallback(\n    id => {\n      dispatch(setActiveId(id));\n    },\n    [dispatch]\n  );\n\n  return (\n    <div className={getActive(id)} onClick={() => setId(id)}>\n      <img src={avatar} alt={`${name} logo`} className={s.img} />\n      <h3 className={s.title}>{name}</h3>\n    </div>\n  );\n};\n\nexport default ShopItem;\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://62c004aad40d6ec55cc963d5.mockapi.io/api/v1/Shops',\n});\n\nexport const getShops = async () => {\n  const { data } = await instance.get('/');\n  return data;\n};\n\nexport const addShop = async body => {\n  const { data } = await instance.post('/', body);\n  return data;\n};\n\nexport const getShopById = async id => {\n  const { data } = await instance.get(`/${id}`);\n  return data;\n};\n\nexport const deleteShop = async id => {\n  const { data } = await instance.delete(`/${id}`);\n  return data;\n};\n","// extracted by mini-css-extract-plugin\nexport default {};","import { useState, useEffect } from 'react';\n\nimport ShopItem from './ShopItem';\nimport Loader from 'shared/components/Loader';\n\nimport * as api from 'shared/services/shop';\nimport s from './shopsList.module.css';\n\nconst Shops = () => {\n  const [shopsList, setShops] = useState({\n    shops: [],\n    isLoading: false,\n    error: null,\n  });\n\n  useEffect(() => {\n    const fetchShops = async () => {\n      setShops(prevShops => ({ ...prevShops, isLoading: true, error: null }));\n\n      const shops = await api.getShops();\n\n      try {\n        setShops(prevShops => ({ ...prevShops, isLoading: false, shops }));\n      } catch (error) {\n        setShops(prevShops => ({\n          ...prevShops,\n          error: error.message,\n          isLoading: false,\n        }));\n      }\n    };\n    fetchShops();\n  }, []);\n\n  const { shops, isLoading, error } = shopsList;\n\n  const elements = shops.map(shop => (\n    <ShopItem\n      key={shop.id}\n      id={shop.id}\n      avatar={shop.avatar}\n      name={shop.name}\n    />\n  ));\n\n  return (\n    <>\n      {shops.length > 0 && (\n        <>\n          <h2 className={s.title}>Shops</h2>\n          {elements}\n        </>\n      )}\n\n      {isLoading && <Loader />}\n      {error && <div>{error}</div>}\n    </>\n  );\n};\n\nexport default Shops;\n","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nexport default {};","import { useDispatch } from 'react-redux';\nimport { PropTypes } from 'prop-types';\n\nimport { addProducts } from 'redux/shops/shops-slice';\nimport s from './productCard.module.css';\n\nconst ProductCard = ({ url, text, name, price }) => {\n  const dispatch = useDispatch();\n\n  const addToCart = data => {\n    dispatch(addProducts(data));\n  };\n\n  const resPrice =\n    price > 0 ? price : Math.floor(Math.random() * (300 - 30 + 1) + 30);\n  return (\n    <div className={s.productCard}>\n      <img src={url} alt={`Product ${name}`} className={s.img} />\n      <h3 className={s.title}>{name}</h3>\n      <p className={s.text}>{text}</p>\n      <p className={s.price}>{resPrice}</p>\n      <button\n        type=\"button\"\n        className={s.orderBtn}\n        onClick={() => addToCart({ url, text, name, price: resPrice })}\n      >\n        Add to Cart\n      </button>\n    </div>\n  );\n};\n\nProductCard.defaultProps = {\n  price: 0,\n};\n\nProductCard.propTypes = {\n  url: PropTypes.string.isRequired,\n  text: PropTypes.string,\n  name: PropTypes.string.isRequired,\n};\n\nexport default ProductCard;\n","import { useState, useEffect } from 'react';\nimport { useSelector, shallowEqual } from 'react-redux';\n\nimport Loader from 'shared/components/Loader';\nimport ProductCard from './ProductCard';\n\nimport { getShopId } from 'redux/shops/shops-selector';\nimport * as api from 'shared/services/shop';\n\nconst Products = () => {\n  const activeID = useSelector(getShopId, shallowEqual);\n  const [productsList, setProducts] = useState({\n    products: [],\n    isLoading: false,\n    error: null,\n  });\n\n  useEffect(() => {\n    const fetchShop = async () => {\n      setProducts(prevProd => ({\n        ...prevProd,\n        isLoading: true,\n        error: null,\n      }));\n\n      try {\n        const shops = await api.getShopById(activeID);\n\n        setProducts(prevProd => ({\n          ...prevProd,\n          isLoading: false,\n          products: [...shops.products],\n        }));\n      } catch (error) {\n        setProducts(prevProd => ({\n          ...prevProd,\n          error: error.message,\n          isLoading: false,\n        }));\n      }\n    };\n\n    if (activeID) {\n      fetchShop();\n    }\n  }, [activeID]);\n\n  const { products, isLoading, error } = productsList;\n\n  const elements = products.map((product, index) => (\n    <ProductCard key={index} {...product} />\n  ));\n\n  return (\n    <>\n      {products.length > 0 && elements}\n      {!(products.length > 0) && !error && `There is no products to order, yet`}\n      {isLoading && <Loader />}\n      {error && <div> {`Something went wrong: ${error}`}</div>}\n    </>\n  );\n};\n\nexport default Products;\n","// extracted by mini-css-extract-plugin\nexport default {};","import Container from 'shared/components/Container';\nimport ShopsList from 'components/ShopsList';\nimport Products from 'components/Products';\n\nimport s from './shopPage.module.css';\n\nconst ShopsPage = () => {\n  return (\n    <Container>\n      <div className={s.shopsWrapper}>\n        <ShopsList />\n      </div>\n      <div className={s.productsWrapper}>\n        <Products />\n      </div>\n    </Container>\n  );\n};\n\nexport default ShopsPage;\n","export const getShopId = state => state.shops.activeId;\n\nexport const getProducts = state => state.shops.products;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"container_container__7D7mb\",\"title\":\"container_title__qyPiS\"};","import PropTypes from 'prop-types';\n\nimport s from './container.module.css';\n\nfunction Container({ title, children }) {\n  return (\n    <div className={s.container}>\n      <h2 className={s.title}>{title}</h2>\n      {children}\n    </div>\n  );\n}\n\nContainer.defaultProps = {\n  title: '',\n};\nContainer.propTypes = {\n  title: PropTypes.string,\n};\n\nexport default Container;\n//\n"],"names":["name","avatar","id","dispatch","useDispatch","activeId","useSelector","state","shops","shallowEqual","setId","useCallback","setActiveId","className","s","getActive","onClick","src","alt","instance","axios","baseURL","getShops","get","data","getShopById","useState","isLoading","error","shopsList","setShops","useEffect","fetchShops","prevShops","api","message","elements","map","shop","length","Loader","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError","ProductCard","url","text","price","resPrice","Math","floor","random","type","addProducts","defaultProps","activeID","getShopId","products","productsList","setProducts","fetchShop","prevProd","product","index","Container","ShopsList","getProducts","title","children"],"sourceRoot":""}